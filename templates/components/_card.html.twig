<a href="{{ path('app_frontend_product_show', {'productId': product.id}) }}" class="group relative block overflow-hidden">
	<img src="{{ asset('uploads/' ~ product.image) }}" alt="{{ product.name }} image" class="h-64 w-full object-cover transition duration-500 group-hover:scale-105 sm:h-72"/>
	<div class="relative border border-gray-100 bg-white p-6">
		<span class="bg-yellow-400 px-3 py-1.5 text-xs font-medium whitespace-nowrap">
			New
		</span>
		<h3 class="mt-4 text-lg font-medium text-gray-900">{{ product.name }}</h3>
		<p class="mt-1.5 text-sm text-gray-700">{{ currency_with_symbol() ~ product.price }}</p>

		{% if app.user %}
			<form class="mt-4" method="post" action="{{ path('app_frontend_cart_add', {'productId': product.id}) }}" onclick="event.stopPropagation();">
				<button class="cursor-pointer block w-full flex items-center justify-center rounded-md border-2 border-transparent bg-teal-500 text-white px-12 py-3 text-center text-base font-bold transition-all duration-200 ease-in-out focus:shadow hover:bg-teal-700">
					<svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 mr-3 h-5 w-5" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
					</svg>
					Add to cart
				</button>
			</form>
		{% else %}
			<a href="{{ path('app_login') }}" class="cursor-pointer block w-full flex items-center justify-center rounded-md border-2 border-transparent bg-teal-500 text-white px-12 py-3 text-center text-base font-bold transition-all duration-200 ease-in-out focus:shadow hover:bg-teal-700">
				<svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 mr-3 h-5 w-5" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
				</svg>
				Add to cart
			</a>
		{% endif %}
	</div>
</a>
