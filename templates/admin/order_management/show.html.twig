{% extends 'layout/admin.html.twig' %}

{% block title %}Order details
{% endblock %}

{% block main_content %}
	<div class="flex items-center justify-between mb-6">
		<h1 class="text-2xl font-semibold text-gray-800">Order Details</h1>
		<a href="{{ path('app_admin_order_management_index') }}">back to list</a>
	</div>

	{# Format order items as an HTML list #}
	{% set items %}
	<ul class="list-disc pl-5">
		{% for item in order.orderItems %}
			<li>{{ item.productName }}
				Ã—
				{{ item.quantity }}</li>
		{% endfor %}
	</ul>
	{% endset %}

	{% set total %}
	<b>{{ order.total ~'$'}}</b>
	{% endset %}
	{% set details = [
    { label: 'Created At', value: order.createdAt ? order.createdAt|date('Y-m-d H:i:s') : ''  },    
    { label: 'Last Update At', value: order.updatedAt ? order.updatedAt|date('Y-m-d H:i:s') : ''  },    
	{ label: 'Reference', value: order.reference },
	{ label: 'PaymentIntentId', value: order.paymentIntentId },
	{ label: 'Status', value: order.status.value },
    { label: 'Shipping Line 1', value: order.shippingLine1 },
    { label: 'Shipping Line 2', value: order.shippingLine2 },
    { label: 'Shipping City', value: order.shippingCity },
    { label: 'Shipping Country', value: order.shippingCountry },
    { label: 'Shipping Zip Code', value: order.shippingZipCode },
	{ label: 'Products', value: items},
	{ label: 'Total', value: total  },
] %}

	{{ include('components/_detail_list.html.twig', { items: details }) }}

{% endblock %}
